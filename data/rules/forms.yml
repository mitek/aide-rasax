version: "2.0"
rules:
- rule: Activate playground form
  steps:
  - action: utter_ask_playground_help
  - intent: affirm
  - action: playground_form
  - active_loop: playground_form

- rule: Submit playground form
  condition:
  - active_loop: playground_form
  steps:
  - action: playground_form
  - active_loop: null
  - action: action_store_problem_description
  - action: utter_direct_to_forum_for_help

- rule: activate contact sales form
  steps:
  - intent: contact_sales
  - action: utter_moreinformation
  - action: sales_form
  - active_loop: sales_form

- rule: deactivate contact sales form
  condition:
  - active_loop: sales_form
  steps:
  - active_loop: null
  - action: action_submit_sales_form
  - action: utter_ask_feedback

- rule: continue sales form
  condition:
  - active_loop: sales_form
  steps:
  - action: utter_ask_continue_sales
  - intent: affirm
  - action: utter_great
  - action: sales_form
  - active_loop: null
  - action: action_submit_sales_form
  - action: utter_docu
  - action: utter_ask_feedback

- rule: don't continue sales form
  condition:
  - active_loop: sales_form
  steps:
  - action: utter_ask_continue_sales
  - intent: deny
  - action: utter_thumbsup
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_ask_feedback

- rule: canthelp in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: canthelp
  - action: utter_canthelp
  - action: utter_ask_continue_sales

- rule: chitchat in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: chitchat
  - action: utter_chitchat
  - action: utter_ask_continue_sales

- rule: faq in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: faq
  - action: utter_faq
  - action: action_set_faq_slot
  - action: utter_ask_continue_sales

- rule: explain in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: explain
  - action: action_explain_sales_form
  - action: utter_ask_continue_sales

- rule: all faq in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: faq
    entities:
    - product: all
  - slot_was_set:
    - product: all
  - action: utter_faq
  - action: action_set_faq_slot
  - action: utter_ask_continue_sales

- rule: Rasa faq in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: faq
    entities:
    - product: rasa
  - slot_was_set:
    - product: rasa
  - action: utter_faq
  - action: action_set_faq_slot
  - action: utter_ask_continue_sales

- rule: Rasa NLU faq in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: faq
    entities:
    - product: nlu
  - slot_was_set:
    - product: nlu
  - action: utter_faq
  - action: action_set_faq_slot
  - action: utter_ask_continue_sales

- rule: out of scope in sales form
  condition:
  - active_loop: sales_form
  steps:
  - intent: out_of_scope
  - action: utter_out_of_scope
  - action: utter_ask_continue_sales
